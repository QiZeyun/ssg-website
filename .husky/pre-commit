# Pre-commit hook: 在提交前运行工程检查

# 1. 运行 lint-staged（只检查暂存的文件并自动修复）
# lint-staged 会自动检查暂存的 .ts 和 .tsx 文件
# 如果没有匹配的文件，lint-staged 会退出，这里捕获退出码避免中断
npx lint-staged || true

# 2. 运行完整的工程检查
# - TypeScript 类型检查
# - ESLint 代码检查
# - 构建产物验证（如果构建产物存在）
pnpm pre-commit:check
